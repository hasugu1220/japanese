<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¹´ë¼ìŠ¤ë°˜ ê°€íƒ€ì¹´ë‚˜ í•™ìŠµ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
        }

        .tab-btn {
            padding: 12px 24px;
            background: rgba(255,255,255,0.2);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .tab-btn.active {
            background: rgba(255,255,255,0.9);
            color: #333;
            transform: translateY(-2px);
        }

        .tab-content {
            display: none;
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            backdrop-filter: blur(10px);
        }

        .tab-content.active {
            display: block;
        }

        /* ë¬¸ìí‘œ ìŠ¤íƒ€ì¼ */
        .character-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .character-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .character-card:hover {
            transform: translateY(-5px);
        }

        .character-card.hint-mode {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            transform: scale(1.05);
        }

        .character {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .pronunciation {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .hint-text {
            font-size: 0.8rem;
            margin-top: 8px;
            opacity: 0.95;
            line-height: 1.3;
        }

        /* ë‹¨ì–´ ìŠ¤íƒ€ì¼ */
        .word-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .word-card {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.2s ease;
        }

        .word-card:hover {
            transform: translateY(-3px);
        }

        .word {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .meaning {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* í˜ì´ì§€ë„¤ì´ì…˜ */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 30px;
        }

        .page-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .page-btn:hover:not(:disabled) {
            background: #764ba2;
            transform: scale(1.1);
        }

        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .page-info {
            font-size: 1.1rem;
            font-weight: bold;
            color: #333;
        }

        /* í€´ì¦ˆ ìŠ¤íƒ€ì¼ */
        .quiz-container {
            text-align: center;
        }

        .quiz-header {
            margin-bottom: 30px;
        }

        .progress {
            font-size: 1.2rem;
            color: #667eea;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .question {
            font-size: 3rem;
            font-weight: bold;
            margin: 30px 0;
            color: #333;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 30px 0;
        }

        .option-btn {
            padding: 20px;
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .option-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .option-btn.correct {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .option-btn.incorrect {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .quiz-result {
            text-align: center;
            padding: 30px;
        }

        .score {
            font-size: 2rem;
            color: #667eea;
            margin-bottom: 20px;
        }

        .rank {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            padding: 15px;
            border-radius: 10px;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }

        .restart-btn {
            padding: 15px 30px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .restart-btn:hover {
            background: #764ba2;
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }
            
            .character-grid {
                grid-template-columns: repeat(5, 1fr);
                gap: 8px;
            }
            
            .character-card {
                padding: 15px 8px;
            }
            
            .character {
                font-size: 1.5rem;
            }
            
            .pronunciation {
                font-size: 0.8rem;
            }
            
            .hint-text {
                font-size: 0.7rem;
            }
            
            .options {
                grid-template-columns: 1fr;
            }
            
            .nav-tabs {
                flex-wrap: wrap;
            }
            
            .question {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸŒ¸ ì¹´ë¼ìŠ¤ë°˜ ê°€íƒ€ì¹´ë‚˜ í•™ìŠµ ğŸŒ¸</h1>
            <p>ì¼ë³¸ì–´ ê°€íƒ€ì¹´ë‚˜ë¥¼ ì¬ë¯¸ìˆê²Œ ë°°ì›Œë³´ì„¸ìš”!</p>
        </div>

        <div class="nav-tabs">
            <button class="tab-btn active" onclick="showTab('characters')">ë¬¸ìí‘œ</button>
            <button class="tab-btn" onclick="showTab('words')">ë‹¨ì–´ì¥</button>
            <button class="tab-btn" onclick="showTab('character-quiz')">ë¬¸ì í€´ì¦ˆ</button>
            <button class="tab-btn" onclick="showTab('word-quiz')">ë‹¨ì–´ í€´ì¦ˆ</button>
        </div>

        <!-- ë¬¸ìí‘œ íƒ­ -->
        <div id="characters" class="tab-content active">
            <h2 style="text-align: center; margin-bottom: 30px; color: #333;">ê°€íƒ€ì¹´ë‚˜ ë¬¸ìí‘œ</h2>
            <p style="text-align: center; margin-bottom: 20px; color: #666;">ğŸ’¡ ë¬¸ìë¥¼ í´ë¦­í•˜ë©´ ì•”ê¸° íŒíŠ¸ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤!</p>
            <div class="character-grid" id="characterGrid"></div>
        </div>

        <!-- ë‹¨ì–´ì¥ íƒ­ -->
        <div id="words" class="tab-content">
            <h2 style="text-align: center; margin-bottom: 30px; color: #333;">ê°€íƒ€ì¹´ë‚˜ ë‹¨ì–´ì¥</h2>
            <div class="word-grid" id="wordGrid"></div>
            <div class="pagination">
                <button class="page-btn" id="prevBtn" onclick="changePage(-1)">â€¹</button>
                <span class="page-info" id="pageInfo">1 / 5</span>
                <button class="page-btn" id="nextBtn" onclick="changePage(1)">â€º</button>
            </div>
        </div>

        <!-- ë¬¸ì í€´ì¦ˆ íƒ­ -->
        <div id="character-quiz" class="tab-content">
            <div class="quiz-container">
                <div class="quiz-header">
                    <h2 style="margin-bottom: 20px; color: #333;">ê°€íƒ€ì¹´ë‚˜ ë¬¸ì í€´ì¦ˆ</h2>
                    <div class="progress" id="charProgress">1 / 20</div>
                </div>
                <div id="charQuizContent">
                    <div class="question" id="charQuestion">ã‚¢</div>
                    <div class="options" id="charOptions"></div>
                </div>
                <div id="charQuizResult" class="quiz-result" style="display: none;">
                    <div class="score" id="charScore"></div>
                    <div class="rank" id="charRank"></div>
                    <button class="restart-btn" onclick="startCharacterQuiz()">ë‹¤ì‹œ ë„ì „í•˜ê¸°</button>
                </div>
            </div>
        </div>

        <!-- ë‹¨ì–´ í€´ì¦ˆ íƒ­ -->
        <div id="word-quiz" class="tab-content">
            <div class="quiz-container">
                <div class="quiz-header">
                    <h2 style="margin-bottom: 20px; color: #333;">ê°€íƒ€ì¹´ë‚˜ ë‹¨ì–´ í€´ì¦ˆ</h2>
                    <div class="progress" id="wordProgress">1 / 20</div>
                </div>
                <div id="wordQuizContent">
                    <div class="question" id="wordQuestion">ã‚¢ã‚¤ã‚¹</div>
                    <div class="options" id="wordOptions"></div>
                </div>
                <div id="wordQuizResult" class="quiz-result" style="display: none;">
                    <div class="score" id="wordScore"></div>
                    <div class="rank" id="wordRank"></div>
                    <button class="restart-btn" onclick="startWordQuiz()">ë‹¤ì‹œ ë„ì „í•˜ê¸°</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ê°€íƒ€ì¹´ë‚˜ ë¬¸ì ë°ì´í„° (ì•”ê¸° íŒíŠ¸ í¬í•¨)
        const katakanaChars = [
            // ã‚í–‰
            ['ã‚¢', 'ì•„', 'ì†ìœ¼ë¡œ í„±ì¡ê³  ë‚´ë ¤ì„œ ì…ë²Œë¦¬ëŠ” ëª¨ì–‘'], 
            ['ã‚¤', 'ì´', 'ì´ì‘¤ì‹œê°œ ë¶€ëŸ¬ëœ¨ë¦° ëª¨ì–‘'], 
            ['ã‚¦', 'ìš°', 'ìš°ì‚°ëª¨ì–‘'], 
            ['ã‚¨', 'ì—', 'ì•  ì˜†ìœ¼ë¡œ ëŒë¦° ëª¨ì–‘'], 
            ['ã‚ª', 'ì˜¤', 'å ì„ ë°˜ìœ¼ë¡œ ë‚˜ëˆ ì„œ'],
            // ã‹í–‰
            ['ã‚«', 'ì¹´', 'íˆë¼ê°€ë‚˜ ì¹´'], 
            ['ã‚­', 'í‚¤', 'Key ëª¨ì–‘'], 
            ['ã‚¯', 'ì¿ ', 'êµ¬ë‘ ë¹„ìŠ·'], 
            ['ã‚±', 'ì¼€', 'íˆë¼ê°€ë‚˜ ì¼€ë‘ ë¹„ìŠ·'], 
            ['ã‚³', 'ì½”', 'ì½”ë¼ë¦¬ ì½”'],
            // ã•í–‰
            ['ã‚µ', 'ì‚¬', 'ì‚¬ë‹¤ë¦¬ ëª¨ì–‘'], 
            ['ã‚·', 'ì‹œ', 'ì• ê°€ ì‰¬ì‹¸ëŠ” ëª¨ì–‘'], 
            ['ã‚¹', 'ìŠ¤', 'ì¦ˆë‘ ë¹„ìŠ·í•œ ìŠ¤...'], 
            ['ã‚»', 'ì„¸', 'ì„¸ë©´ëŒ€ ëª¨ì–‘'], 
            ['ã‚½', 'ì†Œ', 'ì†Œë¿”ëª¨ì–‘'],
            // ãŸí–‰
            ['ã‚¿', 'íƒ€', 'ë§ì„ ë‹¤ì—ì„œ í•˜ë‚˜ ëº€ íƒ€'], 
            ['ãƒ', 'ì¹˜', 'í•œì ì²œ åƒ ì›ì„ ì¹˜ã„¹ëŸ¬ ë„£ëŠ”ë‹¤'], 
            ['ãƒ„', 'ì¸ ', 'ì‹œ í•˜ë©´ ì¸ ì¸ ì¸  í˜€ë¥¼ ì°¬ë‹¤'], 
            ['ãƒ†', 'í…Œ', 'í…Œë ˆë¹„ ì•ˆí…Œë‚˜ ëª¨ì–‘'], 
            ['ãƒˆ', 'í† ', 'í† ë¼ ì„œìˆëŠ” ëª¨ì–‘'],
            // ãªí–‰
            ['ãƒŠ', 'ë‚˜', '4ë“±ë¶„ìœ¼ë¡œ ë‚˜ëˆˆë‹¤'], 
            ['ãƒ‹', 'ë‹ˆ', 'ì´ì¹˜ ë‹ˆ ì‚°'], 
            ['ãƒŒ', 'ëˆ„', 'ì…ë²Œë¦°ì±„ í„±ê´´ê³  ëˆ„ì›ŒìˆëŠ”'], 
            ['ãƒ', 'ë„¤', 'ì–´? ì´ˆ ë„¤ ?'], 
            ['ãƒ', 'ë…¸', 'í‹€ë¦¬ë©´ ë•¡! ë…¸'],
            // ã¯í–‰
            ['ãƒ', 'í•˜', 'í• ì•„ë²„ì§€ ìˆ˜ì—¼'], 
            ['ãƒ’', 'íˆ', 'ì˜ìì— íˆí”„'], 
            ['ãƒ•', 'í›„', 'í›„ ë¶€ëŠ” ì…ëª¨ì–‘'], 
            ['ãƒ˜', 'í—¤', 'íˆë¼ê°€ë‚˜ì™€ ë¹„ìŠ·'], 
            ['ãƒ›', 'í˜¸', 'í˜¸ë‘ì´ ìˆ˜ì—¼'],
            // ã¾í–‰
            ['ãƒ', 'ë§ˆ', 'ì…ì— ë°¥í’€ ë¶™ì–´ ë§˜ ë§ˆ'], 
            ['ãƒŸ', 'ë¯¸', 'ë°¥í’€(ìŒ€ ë¯¸)'], 
            ['ãƒ ', 'ë¬´', 'ë¬´ë¦ê¿‡ì€ ëª¨ì–‘'], 
            ['ãƒ¡', 'ë©”', 'í‹€ë ¤ë©´(ë…¸) ì— íšŒì´ˆë¦¬ ë©”'], 
            ['ãƒ¢', 'ëª¨', 'íˆë¼ê°€ë‚˜ì™€ ë¹„ìŠ·'],
            // ã‚„í–‰
            ['ãƒ¤', 'ì•¼', 'íˆë¼ê°€ë‚˜ì™€ ë¹„ìŠ·'], 
            ['ãƒ¦', 'ìœ ', 'ê·¸ë˜ ìœ '], 
            ['ãƒ¨', 'ìš”', 'í¬ë„¤ ìš”'],
            // ã‚‰í–‰
            ['ãƒ©', 'ë¼', 'ë„ë„ë¼ ì½§ë…¸ë˜ ëª¨ì–‘'], 
            ['ãƒª', 'ë¦¬', 'ë¦¬ë³¸ëª¨ì–‘'], 
            ['ãƒ«', 'ë£¨', 'ìº¥ê±°ë£¨'], 
            ['ãƒ¬', 'ë ˆ', 'í›„ë ˆXX'], 
            ['ãƒ­', 'ë¡œ', 'ì°½ë¬¸(ë¡œë¯¸ì˜¤ì™€ ì¤„ë¦¬ì—£)'],
            // ã‚í–‰
            ['ãƒ¯', 'ì™€', 'ìš°ì‚°ì— ê¼­ì§€ê°€ ì—†ì–´ì„œ ì™€'], 
            ['ãƒ²', 'ì˜¤/ì›Œ', 'ì˜¤ì§•ì–´ ë‹¤ë¦¬ ë¨¹ëŠ”...'], 
            ['ãƒ³', 'ì‘', 'ê·¸ëƒ¥ ì•”ê¸°...']
        ];

        // ê°€íƒ€ì¹´ë‚˜ ë‹¨ì–´ ë°ì´í„° (200ê°œ)
        const katakanaWords = [
            // 1í˜ì´ì§€ (1-40)
            ['ã‚¢ã‚¤ã‚¹ (ì•„ì´ìŠ¤)', 'ì•„ì´ìŠ¤í¬ë¦¼'], ['ã‚¢ãƒ‹ãƒ¡ (ì•„ë‹ˆë©”)', 'ì• ë‹ˆë©”ì´ì…˜'], ['ã‚¢ãƒ¡ãƒªã‚« (ì•„ë©”ë¦¬ì¹´)', 'ë¯¸êµ­'], ['ã‚¢ãƒ«ãƒã‚¤ãƒˆ (ì•„ë£¨ë°”ì´í† )', 'ì•„ë¥´ë°”ì´íŠ¸'],
            ['ã‚¤ã‚®ãƒªã‚¹ (ì´ê¸°ë¦¬ìŠ¤)', 'ì˜êµ­'], ['ã‚¤ã‚¿ãƒªã‚¢ (ì´íƒ€ë¦¬ì•„)', 'ì´íƒˆë¦¬ì•„'], ['ã‚¤ãƒ³ãƒ‰ (ì¸ë„)', 'ì¸ë„'], ['ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼ (ìš°ì´ìŠ¤í‚¤-)', 'ìœ„ìŠ¤í‚¤'],
            ['ã‚¨ã‚¢ã‚³ãƒ³ (ì—ì•„ì½˜)', 'ì—ì–´ì»¨'], ['ã‚ªãƒ¬ãƒ³ã‚¸ (ì˜¤ë Œì§€)', 'ì˜¤ë Œì§€'], ['ã‚«ãƒ¡ãƒ© (ì¹´ë©”ë¼)', 'ì¹´ë©”ë¼'], ['ã‚«ãƒ¬ãƒ¼ (ì¹´ë ˆ-)', 'ì¹´ë ˆ'],
            ['ã‚¬ãƒ©ã‚¹ (ê°€ë¼ìŠ¤)', 'ìœ ë¦¬'], ['ã‚­ãƒ£ãƒ™ãƒ„ (ìº¬ë² ì¸ )', 'ì–‘ë°°ì¶”'], ['ã‚®ã‚¿ãƒ¼ (ê¸°íƒ€-)', 'ê¸°íƒ€'], ['ã‚¯ãƒƒã‚­ãƒ¼ (ì¿ í‚¤-)', 'ì¿ í‚¤'],
            ['ã‚°ãƒ«ãƒ¼ãƒ— (êµ¬ë£¨-í‘¸)', 'ê·¸ë£¹'], ['ã‚±ãƒ¼ã‚­ (ì¼€-í‚¤)', 'ì¼€ì´í¬'], ['ã‚²ãƒ¼ãƒ  (ê²Œ-ë¬´)', 'ê²Œì„'], ['ã‚³ãƒ¼ãƒ’ãƒ¼ (ì½”-íˆ-)', 'ì»¤í”¼'],
            ['ã‚³ãƒƒãƒ— (ì½”í‘¸)', 'ì»µ'], ['ã‚´ãƒ«ãƒ• (ê³ ë£¨í›„)', 'ê³¨í”„'], ['ã‚µãƒƒã‚«ãƒ¼ (ì‚¬ì¹´-)', 'ì¶•êµ¬'], ['ã‚µãƒ©ãƒ€ (ì‚¬ë¼ë‹¤)', 'ìƒëŸ¬ë“œ'],
            ['ã‚·ãƒ£ãƒ„ (ìƒ¤ì¸ )', 'ì…”ì¸ '], ['ã‚¸ãƒ¥ãƒ¼ã‚¹ (ì¥¬-ìŠ¤)', 'ì£¼ìŠ¤'], ['ã‚¹ãƒ¼ãƒ— (ìˆ˜-í‘¸)', 'ìˆ˜í”„'], ['ã‚¹ã‚­ãƒ¼ (ìŠ¤í‚¤-)', 'ìŠ¤í‚¤'],
            ['ã‚¹ãƒ†ãƒ¼ã‚­ (ìŠ¤í…Œ-í‚¤)', 'ìŠ¤í…Œì´í¬'], ['ã‚ºãƒœãƒ³ (ì¦ˆë³¸)', 'ë°”ì§€'], ['ã‚»ãƒ¼ã‚¿ãƒ¼ (ì„¸-íƒ€-)', 'ìŠ¤ì›¨í„°'], ['ã‚½ãƒ•ã‚¡ãƒ¼ (ì†ŒíŒŒ-)', 'ì†ŒíŒŒ'],
            ['ã‚¿ã‚¯ã‚·ãƒ¼ (íƒ€ì¿ ì‹œ-)', 'íƒì‹œ'], ['ã‚¿ã‚ªãƒ« (íƒ€ì˜¤ë£¨)', 'íƒ€ì›”'], ['ãƒãƒ¼ã‚º (ì¹˜-ì¦ˆ)', 'ì¹˜ì¦ˆ'], ['ãƒã‚±ãƒƒãƒˆ (ì¹˜ì¼€í† )', 'í‹°ì¼“'],
            ['ãƒ†ãƒ¼ãƒ–ãƒ« (í…Œ-ë¶€ë£¨)', 'í…Œì´ë¸”'], ['ãƒ†ãƒ‹ã‚¹ (í…Œë‹ˆìŠ¤)', 'í…Œë‹ˆìŠ¤'], ['ãƒˆãƒãƒˆ (í† ë§ˆí† )', 'í† ë§ˆí† '], ['ãƒ‰ã‚¢ (ë„ì•„)', 'ë¬¸'],
            
            // 2í˜ì´ì§€ (41-80)
            ['ãƒŠã‚¤ãƒ• (ë‚˜ì´í›„)', 'ë‚˜ì´í”„'], ['ãƒ‹ãƒ¥ãƒ¼ã‚¹ (ë‰´-ìŠ¤)', 'ë‰´ìŠ¤'], ['ãƒã‚¯ã‚¿ã‚¤ (ë„¤ì¿ íƒ€ì´)', 'ë„¥íƒ€ì´'], ['ãƒãƒ¼ãƒˆ (ë…¸-í† )', 'ë…¸íŠ¸'],
            ['ãƒã‚¹ (ë°”ìŠ¤)', 'ë²„ìŠ¤'], ['ãƒ‘ãƒ³ (íŒ)', 'ë¹µ'], ['ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ (í•œë°”ê°€-)', 'í–„ë²„ê±°'], ['ãƒ”ã‚¢ãƒ (í”¼ì•„ë…¸)', 'í”¼ì•„ë…¸'],
            ['ãƒ“ãƒ¼ãƒ« (ë¹„-ë£¨)', 'ë§¥ì£¼'], ['ãƒ—ãƒ¼ãƒ« (í‘¸-ë£¨)', 'ìˆ˜ì˜ì¥'], ['ãƒ™ãƒƒãƒ‰ (ë² ë„)', 'ì¹¨ëŒ€'], ['ãƒšãƒ³ (íœ)', 'íœ'],
            ['ãƒœãƒ¼ãƒ« (ë³´-ë£¨)', 'ê³µ'], ['ãƒã‚±ãƒƒãƒˆ (í¬ì¼€í† )', 'ì£¼ë¨¸ë‹ˆ'], ['ãƒãƒ¨ãƒãƒ¼ã‚º (ë§ˆìš”ë„¤-ì¦ˆ)', 'ë§ˆìš”ë„¤ì¦ˆ'], ['ãƒŸãƒ«ã‚¯ (ë¯¸ë£¨ì¿ )', 'ìš°ìœ '],
            ['ãƒ¡ãƒ­ãƒ³ (ë©”ë¡ )', 'ë©œë¡ '], ['ãƒ¢ãƒ‡ãƒ« (ëª¨ë°ë£¨)', 'ëª¨ë¸'], ['ãƒ¨ãƒ¼ã‚°ãƒ«ãƒˆ (ìš”-êµ¬ë£¨í† )', 'ìš”êµ¬ë¥´íŠ¸'], ['ãƒ©ã‚¤ã‚ªãƒ³ (ë¼ì´ì˜¨)', 'ì‚¬ì'],
            ['ãƒ©ã‚¸ã‚ª (ë¼ì§€ì˜¤)', 'ë¼ë””ì˜¤'], ['ãƒªãƒ³ã‚´ (ë¦°ê³ )', 'ì‚¬ê³¼'], ['ãƒ¬ãƒ¢ãƒ³ (ë ˆëª¬)', 'ë ˆëª¬'], ['ãƒ­ãƒœãƒƒãƒˆ (ë¡œë³´í† )', 'ë¡œë´‡'],
            ['ãƒ¯ã‚¤ãƒ³ (ì™€ì¸)', 'ì™€ì¸'], ['ã‚¢ãƒƒãƒ—ãƒ« (ì•„í‘¸ë£¨)', 'ì• í”Œ'], ['ã‚¤ãƒã‚´ (ì´ì¹˜ê³ )', 'ë”¸ê¸°'], ['ã‚¦ãƒ¼ãƒ« (ìš°-ë£¨)', 'ìš¸'],
            ['ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚¿ãƒ¼ (ì—ë ˆë² -íƒ€-)', 'ì—˜ë¦¬ë² ì´í„°'], ['ã‚ªãƒ ãƒ¬ãƒ„ (ì˜¤ë¬´ë ˆì¸ )', 'ì˜¤ë¯ˆë ›'], ['ã‚«ãƒƒãƒ— (ì¹´í‘¸)', 'ì»µ'], ['ã‚¬ã‚½ãƒªãƒ³ (ê°€ì†Œë¦°)', 'ê°€ì†”ë¦°'],
            ['ã‚­ãƒƒãƒãƒ³ (í‚¤ì¹œ)', 'ì£¼ë°©'], ['ã‚®ãƒ§ãƒ¼ã‚¶ (êµ-ì)', 'ë§Œë‘'], ['ã‚¯ãƒªãƒ¼ãƒ  (ì¿ ë¦¬-ë¬´)', 'í¬ë¦¼'], ['ã‚°ãƒ©ã‚¹ (êµ¬ë¼ìŠ¤)', 'ê¸€ë¼ìŠ¤'],
            ['ã‚±ãƒãƒ£ãƒƒãƒ— (ì¼€ì°¨í‘¸)', 'ì¼€ì²©'], ['ã‚²ãƒ¼ãƒˆ (ê²Œ-í† )', 'ê²Œì´íŠ¸'], ['ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ (ì½˜í”¼ìœ -íƒ€-)', 'ì»´í“¨í„°'], ['ã‚´ãƒŸ (ê³ ë¯¸)', 'ì“°ë ˆê¸°'],
            
            // 3í˜ì´ì§€ (81-120)
            ['ã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒ (ì‚°ë„ì´ì¹˜)', 'ìƒŒë“œìœ„ì¹˜'], ['ã‚·ãƒ¥ãƒ¼ã‚º (ìŠˆ-ì¦ˆ)', 'ì‹ ë°œ'], ['ã‚¸ãƒ£ãƒ  (ìŸˆë¬´)', 'ì¼'], ['ã‚¹ãƒ—ãƒ¼ãƒ³ (ìŠ¤í‘¸-ìš´)', 'ìˆŸê°€ë½'],
            ['ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ (ìŠ¤ë§ˆ-í† í°)', 'ìŠ¤ë§ˆíŠ¸í°'], ['ã‚ºãƒ¼ãƒ  (ì¦ˆ-ë¬´)', 'ì¤Œ'], ['ã‚»ãƒƒãƒˆ (ì„¸í† )', 'ì„¸íŠ¸'], ['ã‚½ãƒ¼ã‚¹ (ì†Œ-ìŠ¤)', 'ì†ŒìŠ¤'],
            ['ã‚¿ã‚¤ãƒ¤ (íƒ€ì´ì•¼)', 'íƒ€ì´ì–´'], ['ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰ (ë‹¤ì´ì•¼ëª¬ë„)', 'ë‹¤ì´ì•„ëª¬ë“œ'], ['ãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆ (ì´ˆì½”ë ˆ-í† )', 'ì´ˆì½œë¦¿'], ['ãƒ‚ãƒ¼ã‚¼ãƒ« (ì§€-ì œë£¨)', 'ë””ì ¤'],
            ['ãƒ„ã‚¢ãƒ¼ (ì¸ ì•„-)', 'íˆ¬ì–´'], ['ãƒ‡ã‚¶ãƒ¼ãƒˆ (ë°ì-í† )', 'ë””ì €íŠ¸'], ['ãƒˆã‚¤ãƒ¬ (í† ì´ë ˆ)', 'í™”ì¥ì‹¤'], ['ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ (ë„ë¼ì´ë°”-)', 'ë“œë¼ì´ë²„'],
            ['ãƒŠãƒ—ã‚­ãƒ³ (ë‚˜í‘¸í‚¨)', 'ëƒ…í‚¨'], ['ãƒ‹ãƒ³ã‚¸ãƒ³ (ë‹Œì§„)', 'ë‹¹ê·¼'], ['ãƒãƒƒãƒˆ (ë„¤í† )', 'ì¸í„°ë„·'], ['ãƒãƒƒã‚¯ (ë…¸ì¿ )', 'ë…¸í¬'],
            ['ãƒã‚¿ãƒ¼ (ë°”íƒ€-)', 'ë²„í„°'], ['ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼ (íŒŒ-í‹°-)', 'íŒŒí‹°'], ['ãƒãƒ  (í•˜ë¬´)', 'í–„'], ['ãƒ”ã‚¶ (í”¼ì)', 'í”¼ì'],
            ['ãƒ“ãƒ‡ã‚ª (ë¹„ë°ì˜¤)', 'ë¹„ë””ì˜¤'], ['ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆ (í‘¸ë ˆì  í† )', 'ì„ ë¬¼'], ['ãƒ™ãƒ«ãƒˆ (ë² ë£¨í† )', 'ë²¨íŠ¸'], ['ãƒšãƒƒãƒˆ (í˜í† )', 'ì• ì™„ë™ë¬¼'],
            ['ãƒœã‚¿ãƒ³ (ë³´íƒ„)', 'ë²„íŠ¼'], ['ãƒã‚¹ãƒˆ (í¬ìŠ¤í† )', 'ìš°í¸í•¨'], ['ãƒãƒ¼ã‚±ãƒƒãƒˆ (ë§ˆ-ì¼€í† )', 'ì‹œì¥'], ['ãƒŸãƒ¼ãƒˆ (ë¯¸-í† )', 'ê³ ê¸°'],
            ['ãƒ¡ãƒ‹ãƒ¥ãƒ¼ (ë©”ë‰´-)', 'ë©”ë‰´'], ['ãƒ¢ãƒ¼ã‚¿ãƒ¼ (ëª¨-íƒ€-)', 'ëª¨í„°'], ['ãƒ¤ãƒ³ã‚° (ì•¼êµ¬)', 'ì Šì€'], ['ãƒ¦ãƒ‹ãƒ•ã‚©ãƒ¼ãƒ  (ìœ ë‹ˆí¬-ë¬´)', 'ìœ ë‹ˆí¼'],
            ['ãƒ¨ãƒƒãƒˆ (ìš”í† )', 'ìš”íŠ¸'], ['ãƒ©ã‚¤ãƒˆ (ë¼ì´í† )', 'ë¶ˆë¹›'], ['ãƒ©ãƒ¼ãƒ¡ãƒ³ (ë¼-ë©˜)', 'ë¼ë©´'], ['ãƒªãƒ¢ã‚³ãƒ³ (ë¦¬ëª¨ì½˜)', 'ë¦¬ëª¨ì»¨'],
            
            // 4í˜ì´ì§€ (121-160)
            ['ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ (ë ˆìŠ¤í† ë€)', 'ë ˆìŠ¤í† ë‘'], ['ãƒ­ã‚±ãƒƒãƒˆ (ë¡œì¼€í† )', 'ë¡œì¼“'], ['ãƒ¯ãƒ¼ãƒ«ãƒ‰ (ì™€-ë£¨ë„)', 'ì„¸ê³„'], ['ã‚¢ã‚¤ãƒ­ãƒ³ (ì•„ì´ë¡ )', 'ë‹¤ë¦¬ë¯¸'],
            ['ã‚¤ãƒ¤ãƒ›ãƒ³ (ì´ì•¼í˜¼)', 'ì´ì–´í°'], ['ã‚¦ã‚§ãƒ‡ã‚£ãƒ³ã‚° (ì›¨ë”˜êµ¬)', 'ì›¨ë”©'], ['ã‚¨ãƒ—ãƒ­ãƒ³ (ì—í‘¸ë¡ )', 'ì•ì¹˜ë§ˆ'], ['ã‚ªãƒ•ã‚£ã‚¹ (ì˜¤í”¼ìŠ¤)', 'ì‚¬ë¬´ì‹¤'],
            ['ã‚«ãƒ¼ãƒ‰ (ì¹´-ë„)', 'ì¹´ë“œ'], ['ã‚¬ãƒ¼ãƒ‡ãƒ³ (ê°€-ë´)', 'ì •ì›'], ['ã‚­ãƒ£ãƒ³ãƒ‡ã‚£ãƒ¼ (ìº°ë””-)', 'ì‚¬íƒ•'], ['ã‚®ãƒ•ãƒˆ (ê¸°í›„í† )', 'ì„ ë¬¼'],
            ['ã‚¯ãƒ­ãƒ¼ã‚¼ãƒƒãƒˆ (ì¿ ë¡œ-ì œí† )', 'ì˜·ì¥'], ['ã‚°ãƒªãƒ¼ãƒ³ (êµ¬ë¦¬-ìš´)', 'ì´ˆë¡ìƒ‰'], ['ã‚±ãƒ¼ãƒ–ãƒ« (ì¼€-ë¶€ë£¨)', 'ì¼€ì´ë¸”'], ['ã‚²ã‚¹ãƒˆ (ê²ŒìŠ¤í† )', 'ì†ë‹˜'],
            ['ã‚³ãƒ³ã‚µãƒ¼ãƒˆ (ì½˜ì‚¬-í† )', 'ì½˜ì„œíŠ¸'], ['ã‚´ãƒ¼ãƒ« (ê³ -ë£¨)', 'ê³¨'], ['ã‚µãƒ¼ãƒ¢ãƒ³ (ì‚¬-ëª¬)', 'ì—°ì–´'], ['ã‚·ã‚¢ã‚¿ãƒ¼ (ì‹œì•„íƒ€-)', 'ê·¹ì¥'],
            ['ã‚¸ãƒ£ã‚±ãƒƒãƒˆ (ìŸˆì¼€í† )', 'ì¬í‚·'], ['ã‚¹ã‚¿ã‚¸ã‚ª (ìŠ¤íƒ€ì§€ì˜¤)', 'ìŠ¤íŠœë””ì˜¤'], ['ã‚¹ãƒŠãƒƒã‚¯ (ìŠ¤ë‚˜ì¿ )', 'ê°„ì‹'], ['ã‚ºãƒ¼ãƒ  (ì¦ˆ-ë¬´)', 'ì¤Œ'],
            ['ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ (ì„¸íë¦¬í‹°)', 'ë³´ì•ˆ'], ['ã‚½ãƒ•ã‚¡ (ì†ŒíŒŒ)', 'ì†ŒíŒŒ'], ['ã‚¿ãƒ¯ãƒ¼ (íƒ€ì™€-)', 'íƒ€ì›Œ'], ['ãƒ€ãƒ³ã‚¹ (ë‹¨ìŠ¤)', 'ëŒ„ìŠ¤'],
            ['ãƒãƒ¼ãƒ  (ì¹˜-ë¬´)', 'íŒ€'], ['ãƒ‚ãƒ¥ãƒ¼ã‚¹ (ì¥¬-ìŠ¤)', 'ì£¼ìŠ¤'], ['ãƒ„ãƒ¼ãƒ« (ì¸ -ë£¨)', 'ë„êµ¬'], ['ãƒ‡ã‚¹ã‚¯ (ë°ìŠ¤ì¿ )', 'ì±…ìƒ'],
            ['ãƒˆãƒ³ãƒãƒ« (í†¤ë„¤ë£¨)', 'í„°ë„'], ['ãƒ‰ãƒ©ãƒ (ë„ë¼ë§ˆ)', 'ë“œë¼ë§ˆ'], ['ãƒŠãƒ³ãƒãƒ¼ (ë‚œë°”-)', 'ë²ˆí˜¸'], ['ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ  (ë‹ˆì¿ ë„¤-ë¬´)', 'ë³„ëª…'],
            ['ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ (ë„¤í† ì™€-ì¿ )', 'ë„¤íŠ¸ì›Œí¬'], ['ãƒãƒ³ã‚¹ãƒˆãƒƒãƒ— (ë…¼ìŠ¤í† í‘¸)', 'ë…¼ìŠ¤í†±'], ['ãƒãƒ©ãƒ³ã‚¹ (ë°”ë€ìŠ¤)', 'ê· í˜•'], ['ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ (íŒŒìŠ¤ì™€-ë„)', 'íŒ¨ìŠ¤ì›Œë“œ'],
            
            // 5í˜ì´ì§€ (161-200)
            ['ãƒãƒ³ãƒ‰ãƒ« (í•œë„ë£¨)', 'í•¸ë“¤'], ['ãƒ”ã‚¯ãƒ‹ãƒƒã‚¯ (í”¼ì¿ ë‹ˆì¿ )', 'í”¼í¬ë‹‰'], ['ãƒ“ã‚¸ãƒã‚¹ (ë¹„ì§€ë„¤ìŠ¤)', 'ë¹„ì§€ë‹ˆìŠ¤'], ['ãƒ—ãƒ©ãƒ³ (í‘¸ë€)', 'ê³„íš'],
            ['ãƒ™ãƒ³ãƒ (ë²¤ì¹˜)', 'ë²¤ì¹˜'], ['ãƒšãƒ³ã‚®ãƒ³ (íœê¸´)', 'í­ê·„'], ['ãƒœãƒƒã‚¯ã‚¹ (ë³´ì¿ ìŠ¤)', 'ë°•ìŠ¤'], ['ãƒã‚¤ãƒ³ãƒˆ (í¬ì¸í† )', 'í¬ì¸íŠ¸'],
            ['ãƒã‚·ãƒ³ (ë§ˆì‹ )', 'ê¸°ê³„'], ['ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ (ë®¤-ì§€ì¿ )', 'ìŒì•…'], ['ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ (ë©”ì„¸-ì§€)', 'ë©”ì‹œì§€'], ['ãƒ¢ãƒ‹ã‚¿ãƒ¼ (ëª¨ë‹ˆíƒ€-)', 'ëª¨ë‹ˆí„°'],
            ['ãƒ¤ãƒ¼ãƒ‰ (ì•¼-ë„)', 'ì•¼ë“œ'], ['ãƒ¦ãƒ¼ã‚¶ãƒ¼ (ìœ -ì-)', 'ì‚¬ìš©ì'], ['ãƒ¨ãƒ¼ãƒ­ãƒƒãƒ‘ (ìš”-ë¡¯íŒŒ)', 'ìœ ëŸ½'], ['ãƒ©ã‚¤ãƒ³ (ë¼ì¸)', 'ë¼ì¸'],
            ['ãƒ©ã‚¦ãƒ³ãƒ‰ (ë¼ìš´ë„)', 'ë¼ìš´ë“œ'], ['ãƒªãƒ¼ãƒ€ãƒ¼ (ë¦¬-ë‹¤-)', 'ë¦¬ë”'], ['ãƒ¬ã‚·ãƒ” (ë ˆì‹œí”¼)', 'ë ˆì‹œí”¼'], ['ãƒ­ãƒƒã‚¯ (ë¡œì¿ )', 'ìë¬¼ì‡ '],
            ['ãƒ¯ãƒ¼ã‚¯ (ì™€-ì¿ )', 'ì¼'], ['ã‚¢ãƒ‰ãƒ¬ã‚¹ (ì•„ë„ë ˆìŠ¤)', 'ì£¼ì†Œ'], ['ã‚¤ãƒ³ãƒ†ãƒªã‚¢ (ì¸í…Œë¦¬ì•„)', 'ì¸í…Œë¦¬ì–´'], ['ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ (ìœˆë„ìš°)', 'ì°½ë¬¸'],
            ['ã‚¨ãƒ³ã‚¸ãƒ³ (ì—”ì§„)', 'ì—”ì§„'], ['ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ© (ì˜¤-ì¼€ìŠ¤í† ë¼)', 'ì˜¤ì¼€ìŠ¤íŠ¸ë¼'], ['ã‚­ãƒ£ãƒ³ãƒ— (ìº¬í‘¸)', 'ìº í”„'], ['ã‚®ãƒ£ãƒ©ãƒªãƒ¼ (ê°¸ë¼ë¦¬-)', 'ê°¤ëŸ¬ë¦¬'],
            ['ã‚¯ãƒªãƒ‹ãƒƒã‚¯ (ì¿ ë¦¬ë‹ˆì¿ )', 'í´ë¦¬ë‹‰'], ['ã‚°ãƒ©ãƒ³ãƒ‰ (êµ¬ë€ë„)', 'ê·¸ë¼ìš´ë“œ'], ['ã‚±ãƒ¼ã‚¹ (ì¼€-ìŠ¤)', 'ì¼€ì´ìŠ¤'], ['ã‚²ãƒ¼ã‚¸ (ê²Œ-ì§€)', 'ê²Œì´ì§€'],
            ['ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ (ì½”ë ˆì¿ ìˆ€)', 'ì»¬ë ‰ì…˜'], ['ã‚´ãƒ¼ãƒ«ãƒ‰ (ê³ -ë£¨ë„)', 'ê¸ˆ'], ['ã‚µã‚¤ãƒˆ (ì‚¬ì´í† )', 'ì‚¬ì´íŠ¸'], ['ã‚·ãƒ³ãƒ—ãƒ« (ì‹ í‘¸ë£¨)', 'ê°„ë‹¨í•œ'],
            ['ã‚¸ãƒ£ãƒ³ãƒ« (ìŸˆë£¨)', 'ì¥ë¥´'], ['ã‚¹ã‚¿ãƒ¼ãƒˆ (ìŠ¤íƒ€-í† )', 'ì‹œì‘'], ['ã‚¹ãƒšãƒ¼ã‚¹ (ìŠ¤í˜-ìŠ¤)', 'ê³µê°„'], ['ã‚¼ãƒ­ (ì œë¡œ)', '0'],
            ['ã‚»ã‚¯ã‚·ãƒ§ãƒ³ (ì„¸ì¿ ìˆ€)', 'ì„¹ì…˜'], ['ã‚½ãƒ•ãƒˆ (ì†Œí›„í† )', 'ì†Œí”„íŠ¸'], ['ã‚¿ã‚¤ãƒ— (íƒ€ì´í‘¸)', 'íƒ€ì…'], ['ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ (ë‹¤ìš´ë¡œ-ë„)', 'ë‹¤ìš´ë¡œë“œ'],
            ['ãƒãƒ£ãƒ³ã‚¹ (ì°¬ìŠ¤)', 'ê¸°íšŒ'], ['ãƒ„ã‚¤ãƒƒã‚¿ãƒ¼ (ì¸ ì´íƒ€-)', 'íŠ¸ìœ„í„°'], ['ãƒ‡ã‚¸ã‚¿ãƒ« (ë°ì§€íƒ€ë£¨)', 'ë””ì§€í„¸'], ['ãƒˆãƒƒãƒ— (í† í‘¸)', 'íƒ‘']
        ];

        // í˜„ì¬ í˜ì´ì§€
        let currentPage = 1;
        const wordsPerPage = 40;
        const totalPages = 5;

        // í€´ì¦ˆ ìƒíƒœ
        let charQuizData = [];
        let wordQuizData = [];
        let currentCharQuiz = 0;
        let currentWordQuiz = 0;
        let charScore = 0;
        let wordScore = 0;

        // íƒ­ ì „í™˜
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');

            // ë¬¸ìí‘œë¡œ ëŒì•„ì˜¬ ë•Œë§ˆë‹¤ ì´ˆê¸°í™”
            if (tabName === 'characters') {
                displayCharacters();
            } else if (tabName === 'character-quiz') {
                startCharacterQuiz();
            } else if (tabName === 'word-quiz') {
                startWordQuiz();
            }
        }

        // ë¬¸ìí‘œ í‘œì‹œ
        function displayCharacters() {
            const grid = document.getElementById('characterGrid');
            grid.innerHTML = '';
            
            // 5ê°œì”© í–‰ìœ¼ë¡œ ë‚˜ëˆ„ì–´ í‘œì‹œ
            for (let i = 0; i < katakanaChars.length; i += 5) {
                const rowChars = katakanaChars.slice(i, i + 5);
                rowChars.forEach((charData) => {
                    const [char, pronunciation, hint] = charData;
                    
                    const card = document.createElement('div');
                    card.className = 'character-card';
                    card.innerHTML = `
                        <div class="character">${char}</div>
                        <div class="pronunciation">${pronunciation}</div>
                    `;
                    
                    // í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€
                    card.onclick = () => toggleHint(card, char, pronunciation, hint);
                    
                    grid.appendChild(card);
                });
                
                // 5ê°œ ë¯¸ë§Œì¸ ë§ˆì§€ë§‰ í–‰ì˜ ê²½ìš° ë¹ˆ ê³µê°„ ì±„ìš°ê¸°
                const remaining = 5 - rowChars.length;
                for (let j = 0; j < remaining; j++) {
                    const emptyCard = document.createElement('div');
                    emptyCard.style.visibility = 'hidden';
                    grid.appendChild(emptyCard);
                }
            }
        }

        // íŒíŠ¸ í† ê¸€ ê¸°ëŠ¥
        function toggleHint(card, char, pronunciation, hint) {
            if (card.classList.contains('hint-mode')) {
                // íŒíŠ¸ ëª¨ë“œì—ì„œ ì¼ë°˜ ëª¨ë“œë¡œ
                card.classList.remove('hint-mode');
                card.innerHTML = `
                    <div class="character">${char}</div>
                    <div class="pronunciation">${pronunciation}</div>
                `;
            } else {
                // ì¼ë°˜ ëª¨ë“œì—ì„œ íŒíŠ¸ ëª¨ë“œë¡œ
                card.classList.add('hint-mode');
                card.innerHTML = `
                    <div class="character">${char}</div>
                    <div class="pronunciation">${pronunciation}</div>
                    <div class="hint-text">${hint}</div>
                `;
            }
            
            // í´ë¦­ ì´ë²¤íŠ¸ ë‹¤ì‹œ ì—°ê²°
            card.onclick = () => toggleHint(card, char, pronunciation, hint);
        }

        // ë‹¨ì–´ì¥ í‘œì‹œ
        function displayWords() {
            const grid = document.getElementById('wordGrid');
            const startIndex = (currentPage - 1) * wordsPerPage;
            const endIndex = startIndex + wordsPerPage;
            const currentWords = katakanaWords.slice(startIndex, endIndex);
            
            grid.innerHTML = '';
            currentWords.forEach(([word, meaning]) => {
                const card = document.createElement('div');
                card.className = 'word-card';
                card.innerHTML = `
                    <div class="word">${word}</div>
                    <div class="meaning">${meaning}</div>
                `;
                grid.appendChild(card);
            });
            
            updatePagination();
        }

        // í˜ì´ì§€ë„¤ì´ì…˜ ì—…ë°ì´íŠ¸
        function updatePagination() {
            document.getElementById('pageInfo').textContent = `${currentPage} / ${totalPages}`;
            document.getElementById('prevBtn').disabled = currentPage === 1;
            document.getElementById('nextBtn').disabled = currentPage === totalPages;
        }

        // í˜ì´ì§€ ë³€ê²½
        function changePage(direction) {
            const newPage = currentPage + direction;
            if (newPage >= 1 && newPage <= totalPages) {
                currentPage = newPage;
                displayWords();
            }
        }

        // ë¬¸ì í€´ì¦ˆ ì‹œì‘
        function startCharacterQuiz() {
            charQuizData = [...katakanaChars].sort(() => Math.random() - 0.5).slice(0, 20);
            currentCharQuiz = 0;
            charScore = 0;
            
            document.getElementById('charQuizContent').style.display = 'block';
            document.getElementById('charQuizResult').style.display = 'none';
            
            showCharacterQuestion();
        }

        // ë¬¸ì í€´ì¦ˆ ë¬¸ì œ í‘œì‹œ
        function showCharacterQuestion() {
            if (currentCharQuiz >= 20) {
                showCharacterResult();
                return;
            }
            
            const [correctChar, correctPronunciation] = charQuizData[currentCharQuiz];
            const wrongOptions = katakanaChars
                .filter(([char, pron]) => pron !== correctPronunciation)
                .sort(() => Math.random() - 0.5)
                .slice(0, 3)
                .map(([char, pron]) => pron);
            
            const options = [correctPronunciation, ...wrongOptions].sort(() => Math.random() - 0.5);
            
            document.getElementById('charProgress').textContent = `${currentCharQuiz + 1} / 20`;
            document.getElementById('charQuestion').textContent = correctChar;
            
            const optionsContainer = document.getElementById('charOptions');
            optionsContainer.innerHTML = '';
            
            options.forEach(option => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.textContent = option;
                btn.onclick = () => checkCharacterAnswer(option, correctPronunciation, btn);
                optionsContainer.appendChild(btn);
            });
        }

        // ë¬¸ì í€´ì¦ˆ ë‹µì•ˆ í™•ì¸
        function checkCharacterAnswer(selected, correct, btn) {
            const allBtns = document.querySelectorAll('#charOptions .option-btn');
            allBtns.forEach(b => b.disabled = true);
            
            if (selected === correct) {
                btn.classList.add('correct');
                charScore++;
            } else {
                btn.classList.add('incorrect');
                allBtns.forEach(b => {
                    if (b.textContent === correct) {
                        b.classList.add('correct');
                    }
                });
            }
            
            setTimeout(() => {
                currentCharQuiz++;
                showCharacterQuestion();
            }, 1500);
        }

        // ë¬¸ì í€´ì¦ˆ ê²°ê³¼ í‘œì‹œ
        function showCharacterResult() {
            document.getElementById('charQuizContent').style.display = 'none';
            document.getElementById('charQuizResult').style.display = 'block';
            
            const percentage = (charScore / 20) * 100;
            document.getElementById('charScore').textContent = `ì ìˆ˜: ${charScore}/20 (${percentage.toFixed(1)}%)`;
            
            let rank = '';
            if (percentage <= 20) rank = 'ì¹´ë¼ìŠ¤ë°˜ ìƒˆë‚´ê¸°';
            else if (percentage <= 40) rank = 'ì¹´ë¼ìŠ¤ë°˜ ì´ˆë³´';
            else if (percentage <= 60) rank = 'ì¹´ë¼ìŠ¤ë°˜ ì¤‘ê¸‰';
            else if (percentage <= 80) rank = 'ì¹´ë¼ìŠ¤ë°˜ ê³ ìˆ˜';
            else rank = 'ì¹´ë¼ìŠ¤ë°˜ ë§ˆìŠ¤í„°';
            
            document.getElementById('charRank').textContent = `ë“±ê¸‰: ${rank}`;
        }

        // ë‹¨ì–´ í€´ì¦ˆ ì‹œì‘
        function startWordQuiz() {
            wordQuizData = [...katakanaWords].sort(() => Math.random() - 0.5).slice(0, 20);
            currentWordQuiz = 0;
            wordScore = 0;
            
            document.getElementById('wordQuizContent').style.display = 'block';
            document.getElementById('wordQuizResult').style.display = 'none';
            
            showWordQuestion();
        }

        // ë‹¨ì–´ í€´ì¦ˆ ë¬¸ì œ í‘œì‹œ
        function showWordQuestion() {
            if (currentWordQuiz >= 20) {
                showWordResult();
                return;
            }
            
            const [correctWord, correctMeaning] = wordQuizData[currentWordQuiz];
            const wrongOptions = katakanaWords
                .filter(([word, meaning]) => meaning !== correctMeaning)
                .sort(() => Math.random() - 0.5)
                .slice(0, 3)
                .map(([word, meaning]) => meaning);
            
            const options = [correctMeaning, ...wrongOptions].sort(() => Math.random() - 0.5);
            
            document.getElementById('wordProgress').textContent = `${currentWordQuiz + 1} / 20`;
            document.getElementById('wordQuestion').textContent = correctWord.split(' (')[0]; // ë°œìŒ ë¶€ë¶„ ì œê±°í•˜ê³  ë‹¨ì–´ë§Œ í‘œì‹œ
            
            const optionsContainer = document.getElementById('wordOptions');
            optionsContainer.innerHTML = '';
            
            options.forEach(option => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.textContent = option;
                btn.onclick = () => checkWordAnswer(option, correctMeaning, btn);
                optionsContainer.appendChild(btn);
            });
        }

        // ë‹¨ì–´ í€´ì¦ˆ ë‹µì•ˆ í™•ì¸
        function checkWordAnswer(selected, correct, btn) {
            const allBtns = document.querySelectorAll('#wordOptions .option-btn');
            allBtns.forEach(b => b.disabled = true);
            
            if (selected === correct) {
                btn.classList.add('correct');
                wordScore++;
            } else {
                btn.classList.add('incorrect');
                allBtns.forEach(b => {
                    if (b.textContent === correct) {
                        b.classList.add('correct');
                    }
                });
            }
            
            setTimeout(() => {
                currentWordQuiz++;
                showWordQuestion();
            }, 1500);
        }

        // ë‹¨ì–´ í€´ì¦ˆ ê²°ê³¼ í‘œì‹œ
        function showWordResult() {
            document.getElementById('wordQuizContent').style.display = 'none';
            document.getElementById('wordQuizResult').style.display = 'block';
            
            const percentage = (wordScore / 20) * 100;
            document.getElementById('wordScore').textContent = `ì ìˆ˜: ${wordScore}/20 (${percentage.toFixed(1)}%)`;
            
            let rank = '';
            if (percentage <= 20) rank = 'ì¹´ë¼ìŠ¤ë°˜ ìƒˆë‚´ê¸°';
            else if (percentage <= 40) rank = 'ì¹´ë¼ìŠ¤ë°˜ ì´ˆë³´';
            else if (percentage <= 60) rank = 'ì¹´ë¼ìŠ¤ë°˜ ì¤‘ê¸‰';
            else if (percentage <= 80) rank = 'ì¹´ë¼ìŠ¤ë°˜ ê³ ìˆ˜';
            else rank = 'ì¹´ë¼ìŠ¤ë°˜ ë§ˆìŠ¤í„°';
            
            document.getElementById('wordRank').textContent = `ë“±ê¸‰: ${rank}`;
        }

        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            displayCharacters();
            displayWords();
        });
    </script>
</body>
</html>